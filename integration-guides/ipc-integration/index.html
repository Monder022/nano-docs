



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Learn how to integration into the Nano node using the Interprocess communication (IPC) interface.">
      
      
        <link rel="canonical" href="https://docs.nano.org/integration-guides/ipc-integration/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>IPC Integration | Nano Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Noto Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extras.css">
    
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://nano.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nano.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    
  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@nano">
  <meta name="twitter:title" content="IPC Integration | Nano Documentation">
  <meta name="twitter:description" content="Learn how to integration into the Nano node using the Interprocess communication (IPC) interface.">
  <meta name="twitter:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />

  <!-- Open Graph data -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="IPC Integration | Nano Documentation" />
  <meta property="og:url" content="https://docs.nano.org/integration-guides/ipc-integration/" />
  <meta property="og:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />
  <meta property="og:description" content="Learn how to integration into the Nano node using the Interprocess communication (IPC) interface." />
  <meta property="og:site_name" content="Nano Docs" />


  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="#4a90e2" data-md-color-accent="#131121">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#ipc-requestresponse-format" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.nano.org/" title="Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/nano.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Documentation
            </span>
            <span class="md-header-nav__topic">
              IPC Integration
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.nano.org/" title="Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/nano.svg" width="48" height="48">
      
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      What is Nano?
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        What is Nano?
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/exploring-more/" title="Exploring More" class="md-nav__link">
      Exploring More
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Running a Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Running a Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/node-setup/" title="Node Setup" class="md-nav__link">
      Node Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/docker-management/" title="Docker Management" class="md-nav__link">
      Docker Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/ledger-management/" title="Ledger Management" class="md-nav__link">
      Ledger Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/voting-as-a-representative/" title="Voting as a Representative" class="md-nav__link">
      Voting as a Representative
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/beta-network/" title="Beta Network" class="md-nav__link">
      Beta Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-a-node/beyond-the-node/" title="Beyond the Node" class="md-nav__link">
      Beyond the Node
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Integration Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Integration Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../the-basics/" title="The Basics" class="md-nav__link">
      The Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../key-management/" title="Key Management" class="md-nav__link">
      Key Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../block-confirmation-tracking/" title="Block Confirmation Tracking" class="md-nav__link">
      Block Confirmation Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../work-generation/" title="Work Generation" class="md-nav__link">
      Work Generation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-options/" title="Build Options" class="md-nav__link">
      Build Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../websockets/" title="WebSockets" class="md-nav__link">
      WebSockets
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        IPC Integration
      </label>
    
    <a href="./" title="IPC Integration" class="md-nav__link md-nav__link--active">
      IPC Integration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ipc-requestresponse-format" title="IPC request/response format" class="md-nav__link">
    IPC request/response format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpc-gateway" title="RPC Gateway" class="md-nav__link">
    RPC Gateway
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-calls-without-a-message-envelope" title="Making calls without a message envelope" class="md-nav__link">
    Making calls without a message envelope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-calls-with-message-envelopes" title="Making calls with message envelopes" class="md-nav__link">
    Making calls with message envelopes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatbuffers-mapping" title="Flatbuffers mapping" class="md-nav__link">
    Flatbuffers mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-errors" title="Parsing errors" class="md-nav__link">
    Parsing errors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipc-authorization" title="IPC Authorization" class="md-nav__link">
    IPC Authorization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#call-example" title="Call example" class="md-nav__link">
    Call example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-examples" title="Configuration examples" class="md-nav__link">
    Configuration examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload-config" title="Reload config" class="md-nav__link">
    Reload config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipc-v1-details" title="IPC V1 Details" class="md-nav__link">
    IPC V1 Details
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Commands
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/rpc-protocol/" title="RPC Protocol" class="md-nav__link">
      RPC Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/command-line-interface/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Protocol Design
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Protocol Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/distribution-and-units/" title="Distribution and Units" class="md-nav__link">
      Distribution and Units
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/network-attacks/" title="Network Attacks" class="md-nav__link">
      Network Attacks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/signing-hashing-and-key-derivation/" title="Signing, Hashing and Key Derivation" class="md-nav__link">
      Signing, Hashing and Key Derivation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../whitepaper/english/" title="Original whitepaper" class="md-nav__link">
      Original whitepaper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/node-releases/" title="Node Releases" class="md-nav__link">
      Node Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/current-release-notes/" title="Current Release Notes" class="md-nav__link">
      Current Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/previous-release-notes/" title="Previous Release Notes" class="md-nav__link">
      Previous Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/network-upgrades/" title="Network Upgrades" class="md-nav__link">
      Network Upgrades
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/upcoming-features/" title="Upcoming Features" class="md-nav__link">
      Upcoming Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ipc-requestresponse-format" title="IPC request/response format" class="md-nav__link">
    IPC request/response format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpc-gateway" title="RPC Gateway" class="md-nav__link">
    RPC Gateway
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-calls-without-a-message-envelope" title="Making calls without a message envelope" class="md-nav__link">
    Making calls without a message envelope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-calls-with-message-envelopes" title="Making calls with message envelopes" class="md-nav__link">
    Making calls with message envelopes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatbuffers-mapping" title="Flatbuffers mapping" class="md-nav__link">
    Flatbuffers mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-errors" title="Parsing errors" class="md-nav__link">
    Parsing errors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipc-authorization" title="IPC Authorization" class="md-nav__link">
    IPC Authorization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#call-example" title="Call example" class="md-nav__link">
    Call example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-examples" title="Configuration examples" class="md-nav__link">
    Configuration examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload-config" title="Reload config" class="md-nav__link">
    Reload config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipc-v1-details" title="IPC V1 Details" class="md-nav__link">
    IPC V1 Details
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nanocurrency/nano-docs/edit/master/docs/integration-guides/ipc-integration.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>IPC Integration</h1>
                
                <p>The node manages communications using an IPC interface with v1 introduced in V18 (see <a href="#ipc-v1-details">IPC v1 Details</a>) and upgraded to v2 in V21 to include more robust options. This latest version supports the original RPC v1 endpoint and introduces RPC v2 for completion in future release, along with an authentication system for more granular control of permissioned calls.</p>
<p><strong>Configuration</strong></p>
<p>These configuration options are set in the <a href="../../running-a-node/configuration/#configuration-file-locations"><code>config-node.toml</code> file</a>.</p>
<p>IPC is configured in the <code>node.ipc.tcp</code> and <code>node.ipc.local</code> sections:</p>
<div class="codehilite"><pre><span></span>[node.ipc.local]

# If enabled, certain unsafe RPCs can be used. Not recommended for production systems.
# type:bool
#allow_unsafe = false

# Enable or disable IPC via local domain socket.
# type:bool
#enable = false

# Timeout for requests.
# type:seconds
#io_timeout = 15

# Path to the local domain socket.
# type:string
#path = &quot;/tmp/nano&quot;

[node.ipc.tcp]

# Enable or disable IPC via TCP server.
# type:bool
#enable = false

# Timeout for requests.
# type:seconds
#io_timeout = 15

# Server listening port.
# type:uint16
#port = 7077
</pre></div>

<h2 id="ipc-requestresponse-format">IPC request/response format<a class="headerlink" href="#ipc-requestresponse-format" title="Permanent link">&para;</a></h2>
<p>A client must make requests using the following framing format:</p>
<div class="codehilite"><pre><span></span>REQUEST  ::= HEADER PAYLOAD
HEADER   ::= u8(&#39;N&#39;) ENCODING u8(0) u8(0)
ENCODING ::= u8(1)
PAYLOAD  ::= &lt;encoding specific&gt;
</pre></div>

<p>Four encodings currently exist:</p>
<ul>
<li>1: legacy RPC [<em>since v18.0</em>]</li>
<li>2: legacy RPC allowing unsafe operations if node is configured so [<em>since v19.0</em>]</li>
<li>3: flatbuffers [<em>since v21.0</em>]</li>
<li>4: json over flatbuffers [<em>since v21.0</em>]</li>
</ul>
<p>The encoding is followed by two reserved zero-bytes. These allow for future extensions, such as versioning and extended headers.</p>
<p>Note that the framing format does not include a length field - this is optionally placed in the respective payloads. The reason is that some encodings might want to be "streamy", sending responses in chunks, or end with a sentinel.</p>
<div class="codehilite"><pre><span></span>LEGACY_RPC_PAYLOAD  ::= be32(length) JSON request
LEGACY_RPC_RESPONSE ::= be32(length) JSON response
</pre></div>

<p>In short, JSON requests and responses are 32-bit big-endian length-prefixed.</p>
<h2 id="rpc-gateway">RPC Gateway<a class="headerlink" href="#rpc-gateway" title="Permanent link">&para;</a></h2>
<p>The RPC gateway automatically translates between Flatbuffers and JSON messages over HTTP. The request and response is standard JSON.</p>
<div class="admonition info">
<p class="admonition-title">Examples require TLS support</p>
<p>The examples below assumes the node is compiled with TLS support. If not, replace https with http. If using TLS with a self-signed certificate, add --insecure to curl commands.</p>
</div>
<h3 id="making-calls-without-a-message-envelope">Making calls without a message envelope<a class="headerlink" href="#making-calls-without-a-message-envelope" title="Permanent link">&para;</a></h3>
<p>A message envelope is a way to tell the server which message type is sent, as well as other information such as credentials.</p>
<p>For HTTP clients, it's convenient to send messages <em>without</em> an envelope. They do so by appending the message name (using uppercase CamelCase) to the path:</p>
<p><code>POST</code> to <a href="https://www.example.com:7076/api/v2/AccountWeight">https://www.example.com:7076/api/v2/AccountWeight</a>
<div class="codehilite"><pre><span></span>{
    &quot;account&quot;: &quot;nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3&quot;
}
</pre></div></p>
<p>The RPC 1.0 <code>action</code> field is thus not necessary.</p>
<p>The response message is always wrapped in an envelope. JSON clients use the <code>message</code> property to access the message:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1579736914615</span><span class="p">,</span>
    <span class="nt">&quot;message_type&quot;</span><span class="p">:</span> <span class="s2">&quot;AccountWeightResponse&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;voting_weight&quot;</span><span class="p">:</span> <span class="s2">&quot;668657804547735335568510480612620716&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The <code>message_type</code> is always Error if a call fails:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1579737134595</span><span class="p">,</span>
    <span class="nt">&quot;message_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Access denied&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The <code>time</code> property is milliseconds since unix epoch when the message was produced on the server.</p>
<p><strong>Relation to the WebSocket response structure</strong></p>
<p>The <code>message</code> and <code>time</code> properties of the response envelope is exactly the same as in <a href="/integration-guides/websockets">WebSockets</a>. Instead of <code>message_type</code>, WebSockets use <code>topic</code>. This structure should help simplify clients using both HTTP and WebSockets.</p>
<p><strong>Headers</strong></p>
<p>When calling without an envelope, credentials and a correlation id can still be set using an HTTP header:</p>
<p><code>curl --header "Nano-Api-Key:mywalletuser" ...</code></p>
<p>The correlation header is Nano-Correlation-Id, which can be an arbitrary string. This is usually not useful for request/response JSON clients, but may be valuable if responses from RPCs and WebSocket subscriptions are dealt with in a common message handler on the client.</p>
<h3 id="making-calls-with-message-envelopes">Making calls with message envelopes<a class="headerlink" href="#making-calls-with-message-envelopes" title="Permanent link">&para;</a></h3>
<p>If the message name is missing from the path, an envelope will be expected which tells the node about the message type.</p>
<p><code>POST</code> to <a href="https://www.example.com:7076/api/v2">https://www.example.com:7076/api/v2</a>
<div class="codehilite"><pre><span></span><span class="p">{</span> 
    <span class="nt">&quot;message_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;AccountWeight&quot;</span><span class="p">,</span> 
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div></p>
<p>The above is similar to using the "action" property in RPC 1.0. The main difference is that the message itself is always placed in a "message" property.</p>
<p>The envelope allows additional information to be sent, such as credentials:</p>
<p><code>POST</code> to <a href="https://www.example.com:7076/api/v2">https://www.example.com:7076/api/v2</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span> 
    <span class="nt">&quot;credentials&quot;</span><span class="p">:</span> <span class="s2">&quot;mywalletuser&quot;</span><span class="p">,</span>  
    <span class="nt">&quot;message_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;AccountWeight&quot;</span><span class="p">,</span> 
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>Large requests</strong>
While somewhat less convenient, the envelope approach is desirable for very large requests, because the node doesn't need to copy the message into an envelope.</p>
<hr />
<h3 id="flatbuffers-mapping">Flatbuffers mapping<a class="headerlink" href="#flatbuffers-mapping" title="Permanent link">&para;</a></h3>
<p>Here's the corresponding <a href="https://github.com/nanocurrency/nano-node/blob/master/api/flatbuffers/nanoapi.fbs">message definitions</a> for the AccountWeight request and response types:</p>
<div class="codehilite"><pre><span></span>/** Returns the voting weight for the given account */
table AccountWeight {
    /** A nano_ address */
    account: string (required);
}

/** Response to AccountWeight */
table AccountWeightResponse {
    /** Voting weight as a decimal number*/
    voting_weight: string (required);
}
</pre></div>

<hr />
<h3 id="parsing-errors">Parsing errors<a class="headerlink" href="#parsing-errors" title="Permanent link">&para;</a></h3>
<p>Any problems with the JSON request will be reported with error details:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;message_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid message format: 3: 2: error: required field is missing: account in AccountWeight&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<hr />
<h2 id="ipc-authorization">IPC Authorization<a class="headerlink" href="#ipc-authorization" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Work in progress</p>
<p>Permission settings is a work in progress, and their exact definition and defaults will be part of RPC 2.0 in a future node release.</p>
</div>
<p>With IPC 2.0, the Nano node offers an authorization system.</p>
<p>The configuration is done in <code>config-access.toml</code> by defining users and optional roles. Permissions are then assigned to these. The node only checks for permissions, never roles. This way, you can freely structure roles and users the way that suits your situation.</p>
<p>There is also a default user with limited default permissions, currently only allowed to use the <code>AccountWeight</code> and <code>IsAlive</code> calls. This is used when no credentials are given. The permissions of the default user can also be changed in the configuration file.</p>
<p>Credentials:</p>
<ul>
<li>IPC clients set the credentials in the message envelope </li>
<li>HTTP(S) clients either use a message envelope or the HTTP Header <code>Nano-Api-Key</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Layered security highly recommended</p>
<p>While permissions enable node operators to pick what functionality to expose to which users, it is still highly recommended that layered security is used. For instance, a wallet backend should expose only required functionality to clients. The backend can then communicate with the node with credentials for additional security.</p>
</div>
<h3 id="call-example">Call example<a class="headerlink" href="#call-example" title="Permanent link">&para;</a></h3>
<p><div class="codehilite"><pre><span></span>curl --header <span class="s2">&quot;Nano-Api-Key:mywalletuser&quot;</span> --insecure -d <span class="se">\</span>
   <span class="s1">&#39;{ &quot;account&quot;: &quot;nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3&quot;}&#39;</span> <span class="se">\</span>
   https://www.example.com:7076/api/v2/AccountWeight
</pre></div>
This uses HTTPS (which the node supports through a build option), and the <code>--insecure</code> is there because the node's certificate in this example is self-signed.</p>
<p>Using an envelope instead of the <code>AccountWeight</code> endpoint:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> 
   <span class="nt">&quot;credentials&quot;</span><span class="p">:</span> <span class="s2">&quot;mywalletuser&quot;</span><span class="p">,</span>
   <span class="nt">&quot;message_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;AccountWeight&quot;</span><span class="p">,</span> 
   <span class="nt">&quot;message&quot;</span><span class="p">:</span> 
   <span class="p">{</span>
       <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3&quot;</span> 
   <span class="p">}</span>
<span class="p">}</span> 
</pre></div>

<p><code>POST</code> the above to <a href="https://www.example.com:7076/api/v2">https://www.example.com:7076/api/v2</a></p>
<h3 id="configuration-examples">Configuration examples<a class="headerlink" href="#configuration-examples" title="Permanent link">&para;</a></h3>
<p>For testing IPC without caring about permissions, this gives access to everything:</p>
<div class="codehilite"><pre><span></span>[[user]]
allow = &quot;unrestricted&quot;
</pre></div>

<p>A more elaborate sample:</p>
<div class="admonition warning">
<p class="admonition-title">Work in progress</p>
<p>Permission settings is a work in progress, and their exact definition and defaults will be part of RPC 2.0 in a future node release.</p>
</div>
<div class="codehilite"><pre><span></span>[[role]]
id = &quot;service_admin&quot;
allow = &quot;api_service_register, api_service_stop&quot;

[[user]]
# User id&#39;s are typically randomly generated strings which
# matches the credentials in API requests.
id = &quot;user-2bb818ee-6424-4750-8bdb-db23bab7bc57&quot;

# Inherit all the permissions from these roles
roles = &quot;service_admin&quot;

# Add additional permissions for this specific user
allow = &quot;wallet_seed_change, api_topic_confirmation&quot;

# A list of specific permissions can be denied as well
deny = &quot;api_account_weight&quot;

[[user]]
id = &quot;history-viewer-e3cf8a09-bd74-4ef2-9b84-e14f3db2bb4b&quot;

# Add specific permission for this user
allow = &quot;api_account_info, api_account_history&quot;

# Do not inherit any default permissions. This is useful
# for making users with a explicit set of minimum permissions.
# The default user can also be set to bare. That way, a node can be
# exposed with a limited set of default permissions.
bare = true
</pre></div>

<h3 id="reload-config">Reload config<a class="headerlink" href="#reload-config" title="Permanent link">&para;</a></h3>
<p>The access file can be reloaded without restarting the node or wallet. For the node:</p>
<p><code>killall -SIGHUP nano_node</code></p>
<p>(actual syntax depends on OS)</p>
<hr />
<h2 id="ipc-v1-details">IPC V1 Details<a class="headerlink" href="#ipc-v1-details" title="Permanent link">&para;</a></h2>
<p>As of v18, the Nano node exposes a low level IPC interface over which multiple future APIs can be marshalled. Currently, the IPC interface supports the legacy RPC JSON format. The HTTP based RPC server is still available. Because the only IPC encoding is currently "legacy RPC", RPC config options like "enable_control" still apply.</p>
<p><strong>Transports</strong></p>
<p>TCP and unix domain sockets are supported. Named pipes and shared memory may be supported in future releases.</p>
<p><strong>IPC clients</strong></p>
<p>A NodeJS client is available at <a href="https://github.com/meltingice/nano-ipc-js">https://github.com/meltingice/nano-ipc-js</a></p>
<p>A Python client is being developed at <a href="https://github.com/guilhermelawless/nano-ipc-py">https://github.com/guilhermelawless/nano-ipc-py</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="../websockets/"
              title="WebSockets"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                WebSockets
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="../advanced/"
              title="Advanced"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Advanced
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-footer-copyright">
                © Nano Foundation |
                <a href="https://nano.org/terms" target="_blank">
                    Terms of Use
                </a>
                 | 
                <a href="https://nano.org/privacy">
                    Privacy Policy
                </a>
            </div>
            
            <!-- Social links -->
            
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/nanocurrency" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/nano" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://chat.nano.org" class="md-footer-social__link fa fa-comments"></a>
    
      <a href="https://reddit.com/r/nanocurrency" class="md-footer-social__link fa fa-reddit"></a>
    
      <a href="https://medium.com/nanocurrency" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://facebook.com/nanofoundation" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://linkedin.com/company/nano-foundation" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.youtube.com/nanocurrency/" class="md-footer-social__link fa fa-youtube"></a>
    
      <a href="https://www.instagram.com/nanocurrency/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

        </div>
        <div class="md-footer-meta__inner md-grid md-grid-disclaimer">
    		<div class="md-footer-disclaimer md-footer-copyright">
    			This site uses cookies, see our <a href="https://nano.org/privacy#cookies" target="_blank">Cookie policy</a> for details. The Nano Foundation is not responsible for the content of external sites and services. 
    			<a href="https://nano.org/terms#linked-websites" target="_blank">Learn more</a>
    		</div>
    	</div>
    </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
      
        <script src="../../javascript/mermaid-loose-security.js"></script>
      
    
  </body>
</html>