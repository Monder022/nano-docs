



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://docs.nano.org/running-a-node/docker-management/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Docker Management - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Noto Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extras.css">
    
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://nano.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nano.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    
  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@nano">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />

  <!-- Open Graph data -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="" />
  <meta property="og:url" content="https://docs.nano.org/running-a-node/docker-management/" />
  <meta property="og:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Nano Docs" />


  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="#4a90e2" data-md-color-accent="#131121">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#docker-management" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.nano.org/" title="Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/nano.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Documentation
            </span>
            <span class="md-header-nav__topic">
              Docker Management
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.nano.org/" title="Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/nano.svg" width="48" height="48">
      
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      What is Nano?
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        What is Nano?
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/exploring-more/" title="Exploring More" class="md-nav__link">
      Exploring More
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Running a Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Running a Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../node-setup/" title="Node Setup" class="md-nav__link">
      Node Setup
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Docker Management
      </label>
    
    <a href="./" title="Docker Management" class="md-nav__link md-nav__link--active">
      Docker Management
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nano-directory" title="Nano Directory" class="md-nav__link">
    Nano Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-the-container" title="Managing the Container" class="md-nav__link">
    Managing the Container
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starting" title="Starting" class="md-nav__link">
    Starting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopping" title="Stopping" class="md-nav__link">
    Stopping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting" title="Restarting" class="md-nav__link">
    Restarting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-status" title="Checking Status" class="md-nav__link">
    Checking Status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-the-docker-image" title="Updating the Docker Image" class="md-nav__link">
    Updating the Docker Image
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-node-configuration" title="Updating Node Configuration" class="md-nav__link">
    Updating Node Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-entrypoint-support" title="Docker entrypoint support" class="md-nav__link">
    Docker entrypoint support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-user-support" title="Docker USER Support" class="md-nav__link">
    Docker USER Support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpc-calls-to-the-node" title="RPC calls to the node" class="md-nav__link">
    RPC calls to the node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ledger-management/" title="Ledger Management" class="md-nav__link">
      Ledger Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../voting-as-a-representative/" title="Voting as a Representative" class="md-nav__link">
      Voting as a Representative
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../beta-network/" title="Beta Network" class="md-nav__link">
      Beta Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../beyond-the-node/" title="Beyond the Node" class="md-nav__link">
      Beyond the Node
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Integration Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Integration Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/the-basics/" title="The Basics" class="md-nav__link">
      The Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/key-management/" title="Key Management" class="md-nav__link">
      Key Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/block-confirmation-tracking/" title="Block Confirmation Tracking" class="md-nav__link">
      Block Confirmation Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/work-generation/" title="Work Generation" class="md-nav__link">
      Work Generation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/build-options/" title="Build Options" class="md-nav__link">
      Build Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/websockets/" title="WebSockets" class="md-nav__link">
      WebSockets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/ipc-integration/" title="IPC Integration" class="md-nav__link">
      IPC Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Commands
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/rpc-protocol/" title="RPC Protocol" class="md-nav__link">
      RPC Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/command-line-interface/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Protocol Design
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Protocol Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/distribution-and-units/" title="Distribution and Units" class="md-nav__link">
      Distribution and Units
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/network-attacks/" title="Network Attacks" class="md-nav__link">
      Network Attacks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/signing-hashing-and-key-derivation/" title="Signing, Hashing and Key Derivation" class="md-nav__link">
      Signing, Hashing and Key Derivation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../whitepaper/english/" title="Original whitepaper" class="md-nav__link">
      Original whitepaper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/node-releases/" title="Node Releases" class="md-nav__link">
      Node Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/current-release-notes/" title="Current Release Notes" class="md-nav__link">
      Current Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/previous-release-notes/" title="Previous Release Notes" class="md-nav__link">
      Previous Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/network-upgrades/" title="Network Upgrades" class="md-nav__link">
      Network Upgrades
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/upcoming-features/" title="Upcoming Features" class="md-nav__link">
      Upcoming Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nano-directory" title="Nano Directory" class="md-nav__link">
    Nano Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-the-container" title="Managing the Container" class="md-nav__link">
    Managing the Container
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starting" title="Starting" class="md-nav__link">
    Starting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopping" title="Stopping" class="md-nav__link">
    Stopping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting" title="Restarting" class="md-nav__link">
    Restarting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-status" title="Checking Status" class="md-nav__link">
    Checking Status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-the-docker-image" title="Updating the Docker Image" class="md-nav__link">
    Updating the Docker Image
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-node-configuration" title="Updating Node Configuration" class="md-nav__link">
    Updating Node Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-entrypoint-support" title="Docker entrypoint support" class="md-nav__link">
    Docker entrypoint support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-user-support" title="Docker USER Support" class="md-nav__link">
    Docker USER Support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpc-calls-to-the-node" title="RPC calls to the node" class="md-nav__link">
    RPC calls to the node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nanocurrency/nano-docs/edit/master/docs/running-a-node/docker-management.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="docker-management">Docker Management<a class="headerlink" href="#docker-management" title="Permanent link">&para;</a></h1>
<p>Docker greatly simplifies node management.  Below we will go over some of the best practices for managing your Docker Image.</p>
<div class="admonition warning">
<p class="admonition-title">Docker Limitations</p>
<p>Although Docker is a great choice for many setups, there are some limitations to be aware of:</p>
<ul>
<li>It is not recommended to run a *nix container, such as the officially provided one, on a Windows host - there are known issues with handling ports which prevent proper communication with peers.</li>
<li>V19 and lower: Due to the startup script built into the Docker containers, <a href="/commands/command-line-interface/#launch-options">Launch Options</a> for the <code>nano_node</code> service run inside the container cannot be easily used. These options are available as of V20.</li>
</ul>
</div>
<h3 id="nano-directory">Nano Directory<a class="headerlink" href="#nano-directory" title="Permanent link">&para;</a></h3>
<p>The Nano directory contains: wallets file (<code>wallets.ldb</code>), <a href="/running-a-node/troubleshooting/#log-files">log files</a>, optional config files, ledger file (data.ldb) and related lock files.</p>
<div class="admonition warning">
<p class="admonition-title">Protect wallet and backup files</p>
<p>The built-in node wallet is for use in development and testing only. Those using it should take care in protecting access to the wallets.ldb file and backup files, whether encrypted or not, for added security.</p>
</div>
<p>For Docker setups, the <code>${NANO_HOST_DIR}</code> indicated in the steps below will be the location of these files on your host machine.</p>
<h3 id="managing-the-container">Managing the Container<a class="headerlink" href="#managing-the-container" title="Permanent link">&para;</a></h3>
<h4 id="starting">Starting<a class="headerlink" href="#starting" title="Permanent link">&para;</a></h4>
<p>The following command will start the node container. Either set the specified environment variables (i.e. <code>NANO_NAME=nano_node</code>) or substitute in explicit values to the <code>docker run</code> command.</p>
<hr />
<ul>
<li>
<p><code>${NANO_NAME}</code> - The name that you would like to assign to the docker container.</p>
</li>
<li>
<p><code>${NANO_TAG}</code> - The version of docker image you will be running. For consumers, <code>latest</code> is acceptable, but for enterprise use, a manually set tag to the latest version number is recommended.</p>
</li>
<li>
<p><code>${NANO_HOST_DIR}</code> - Location on the host computer where the ledger, configuration files, and logs will be stored. The Docker container will directly store files such as <a href="/running-a-node/configuration">config-node.toml</a> and <code>data.ldb</code> into this directory.</p>
</li>
</ul>
<hr />
<div class="codehilite"><pre><span></span>docker run --restart<span class="o">=</span>unless-stopped -d <span class="se">\</span>
  -p <span class="m">7075</span>:7075/udp <span class="se">\</span>
  -p <span class="m">7075</span>:7075 <span class="se">\</span>
  -p <span class="o">[</span>::1<span class="o">]</span>:7076:7076 <span class="se">\</span>
  -p <span class="o">[</span>::1<span class="o">]</span>:7078:7078 <span class="se">\</span>
  -v <span class="si">${</span><span class="nv">NANO_HOST_DIR</span><span class="si">}</span>:/root <span class="se">\</span>
  --name <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span> <span class="se">\</span>
  nanocurrency/nano:<span class="si">${</span><span class="nv">NANO_TAG</span><span class="si">}</span>
</pre></div>

<table>
<thead>
<tr>
<th>Option</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-d</code></td>
<td>Starts the docker container as a daemon</td>
</tr>
<tr>
<td><code>-p 7075:7075/udp</code></td>
<td>Maps the network activity port</td>
</tr>
<tr>
<td><code>-p 7075:7075</code></td>
<td>Maps the bootstrapping TCP port</td>
</tr>
<tr>
<td><code>-v ${NANO_HOST_DIR}:/root</code></td>
<td>Maps the host's Nano directory to the guest <code>/root</code> directory</td>
</tr>
<tr>
<td><code>--restart=unless-stopped</code></td>
<td>Restarts the container if it crashes</td>
</tr>
<tr>
<td><code>nanocurrency/nano:${NANO_TAG}</code></td>
<td>Specifies the container to execute with tag</td>
</tr>
<tr>
<td><code>-p [::1]:7076:7076</code><br />or <code>-p 127.0.0.1:7076:7076</code></td>
<td>Indicates that only RPC commands originating from the host will be accepted. <strong>WARNING: Without the proper IP configured here, anyone with access to your system's IP address can control your nano_node.</strong></td>
</tr>
<tr>
<td><code>-p [::1]:7078:7078</code><br />or <code>-p 127.0.0.1:7078:7078</code></td>
<td>Indicates that only the host can create a connection to the <a href="/integration-guides/websockets">websocket server</a>. Data throughput can be very high depending on configuration, which could slow down the node if available outside the host.</td>
</tr>
</tbody>
</table>
<p>If you wish to use different ports, change the host ports in the <code>docker run</code> command; do not change the ports in the <a href="/running-a-node/configuration">config-node.toml</a> file.</p>
<p>This will start the docker container using host ports 7075 and 7076 and put the data in a permanent location in your hosts's home directory, outside the docker container. Upon successful startup, Docker will return the container's full ID. A typical ID will look something like the value below.</p>
<div class="codehilite"><pre><span></span>0118ad5b48489303aa9d195f8a45ddc74a90e8a7209fc67d5483aabf3170d619
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TCP is used for bootstrapping and UDP is used to stream live transactions on the network.  For more information, see the <a href="/running-a-node/configuration/#network-details">network details</a>.</p>
<p>On port 7075, both TCP and UDP are required.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are running multiple nano_node Docker containers, <strong>DO NOT</strong> share the same <code>${NANO_HOST_DIR}</code>, each nano_node requires its own independent files.</p>
</div>
<hr />
<h4 id="stopping">Stopping<a class="headerlink" href="#stopping" title="Permanent link">&para;</a></h4>
<p>To stop your Nano Node:</p>
<div class="codehilite"><pre><span></span>docker stop <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span>
</pre></div>

<hr />
<h4 id="restarting">Restarting<a class="headerlink" href="#restarting" title="Permanent link">&para;</a></h4>
<p>If you need to restart your node for any reason:</p>
<div class="codehilite"><pre><span></span>docker restart <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span>
</pre></div>

<hr />
<h4 id="checking-status">Checking Status<a class="headerlink" href="#checking-status" title="Permanent link">&para;</a></h4>
<p>A list of currently running containers can be found by issuing the following command.</p>
<div class="codehilite"><pre><span></span>docker ps
</pre></div>

<div class="codehilite"><pre><span></span>CONTAINER ID        IMAGE               COMMAND                 CREATED             STATUS              PORTS                                                                      NAMES
0118ad5b4848        nanocurrency/nano   <span class="s2">&quot;/bin/bash /entry.sh&quot;</span>   <span class="m">41</span> seconds ago      Up <span class="m">56</span> seconds       <span class="m">0</span>.0.0.0:7075-&gt;7075/tcp, <span class="m">0</span>.0.0.0:7075-&gt;7075/udp, <span class="m">127</span>.0.0.1:7076-&gt;7076/tcp   nano_node_1
</pre></div>

<hr />
<h4 id="updating-the-docker-image">Updating the Docker Image<a class="headerlink" href="#updating-the-docker-image" title="Permanent link">&para;</a></h4>
<p>First, <a href="#stopping">stop the container</a> if it is running.</p>
<div class="codehilite"><pre><span></span>docker stop <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span>
</pre></div>

<p>Then we can download the latest version with <code>docker pull</code> (or <a href="https://hub.docker.com/r/nanocurrency/nano/tags/">whichever version</a> we need).</p>
<p>Pull latest release of the Nano Node
<div class="codehilite"><pre><span></span>docker pull nanocurrency/nano
</pre></div></p>
<p>Or pull the Nano Node tagged with "V19.0" from Dockerhub
<div class="codehilite"><pre><span></span>docker pull nanocurrency/nano:V19.0
</pre></div></p>
<p>Lastly, we <a href="#starting">start up the docker container again</a> using the same command.</p>
<hr />
<h3 id="updating-node-configuration">Updating Node Configuration<a class="headerlink" href="#updating-node-configuration" title="Permanent link">&para;</a></h3>
<p>First, <a href="#stopping">stop the container</a> if it is running.</p>
<div class="codehilite"><pre><span></span>docker stop <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Modifications made to configuration files while the Docker container is running have no effect until the container is restarted.</p>
</div>
<p>You may now edit the <a href="/running-a-node/configuration">configuration files</a> located in <code>${NANO_HOST_DIR}</code> using your preferred text editor.</p>
<p>Once modifications are complete, <a href="#starting">start up the docker container again</a> using the same command.</p>
<div class="admonition tip">
<p class="admonition-title">Enable Voting</p>
<p>When setting up a new node, voting is disabled by default in the configuration file and must be manually enabled in order to participate in consensus. See <a href="/running-a-node/configuration/#nodeenable_voting">enable_voting configuration option</a> for more details.</p>
</div>
<hr />
<h3 id="docker-entrypoint-support">Docker entrypoint support<a class="headerlink" href="#docker-entrypoint-support" title="Permanent link">&para;</a></h3>
<p>As of v20.0, the docker entry script has migrated to a command with default arguments:
<div class="codehilite"><pre><span></span>Usage:
   /entry.sh nano_node [[--]daemon] [cli_options] [-l] [-v size]
     [--]daemon
       start as daemon either cli [--daemon] form or short form [daemon]
     cli_options
       nano_node cli options &lt;see nano_node --help&gt;
     -l
       log to console &lt;use docker logs {container}&gt;
     -v&lt;size&gt;
       vacuum database if over size GB on startup
   /entry.sh bash [other]
     other
       bash pass through
   /entry.sh [*]
     *
       usage
 default:
   /entry.sh nano_node daemon -l
</pre></div></p>
<hr />
<h3 id="docker-user-support">Docker USER Support<a class="headerlink" href="#docker-user-support" title="Permanent link">&para;</a></h3>
<p>As of v20.0, the docker containers support the <a href="https://docs.docker.com/engine/reference/run/#user">--user=</a> and <a href="https://docs.docker.com/engine/reference/run/#workdir">-w=</a> flags.</p>
<p>To maintain existing compatibility the Docker containers are being built with <code>USER ROOT</code> and <code>WORK_DIR /root</code></p>
<p>The problem with this is that the container ends up writing files to your mounted path as root. Best practices would dictate that since there is no need for privilege escalation we can create a user and run under that context instead.</p>
<p>In the event you wish to use the <code>--user=nanocurrency -w=/home/nanocurrency</code> flags the directory you mount should have permissions changed for uid:guid 1000:1000 using <code>sudo chown -R 1000:1000 &lt;local_path&gt;</code> and your mount flag will become <code>-v &lt;local_path&gt;:/home/nanocurrency</code></p>
<p>This will be changed to default to <code>USER nanocurrency</code> and <code>WORK_DIR /home/nanocurrency</code> in a future release</p>
<hr />
<h3 id="rpc-calls-to-the-node">RPC calls to the node<a class="headerlink" href="#rpc-calls-to-the-node" title="Permanent link">&para;</a></h3>
<p>You can use the RPC interface on the local host via <code>curl</code> to interact with the node.</p>
<p>For example the version of the node:</p>
<div class="codehilite"><pre><span></span>curl -d <span class="s1">&#39;{ &quot;action&quot; : &quot;version&quot; }&#39;</span> <span class="o">[</span>::1<span class="o">]</span>:7076
</pre></div>

<p>Or the blockcount:</p>
<div class="codehilite"><pre><span></span>curl -d <span class="s1">&#39;{ &quot;action&quot; : &quot;block_count&quot; }&#39;</span> <span class="o">[</span>::1<span class="o">]</span>:7076
</pre></div>

<p>For other commands, review the <a href="/commands/rpc-protocol">RPC Protocol</a> details.</p>
<hr />
<h3 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h3>
<p>If you get <code>Error starting userland proxy: port is not a proto:IP:port: 'tcp:[:'.</code> or want to expose IPv4 port, use <code>-p 127.0.0.1:7076:7076</code>. Likewise, if you get <code>curl: (7) Couldn't connect to server</code> when interacting with the node, replace <code>[::1]:7076</code> with <code>127.0.0.1:7076</code>.</p>
<p>If you get <code>create ~: volume name is too short, names should be at least two alphanumeric characters.</code> replace the <code>~</code> with the full pathname such as <code>/Users/someuser</code>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="../node-setup/"
              title="Node Setup"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Node Setup
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="../configuration/"
              title="Configuration"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-footer-copyright">
                © Nano Foundation |
                <a href="https://nano.org/terms" target="_blank">
                    Terms of Use
                </a>
                 | 
                <a href="https://nano.org/privacy">
                    Privacy Policy
                </a>
            </div>
            
            <!-- Social links -->
            
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/nanocurrency" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/nano" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://chat.nano.org" class="md-footer-social__link fa fa-comments"></a>
    
      <a href="https://reddit.com/r/nanocurrency" class="md-footer-social__link fa fa-reddit"></a>
    
      <a href="https://medium.com/nanocurrency" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://facebook.com/nanofoundation" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://linkedin.com/company/nano-foundation" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.youtube.com/nanocurrency/" class="md-footer-social__link fa fa-youtube"></a>
    
      <a href="https://www.instagram.com/nanocurrency/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

        </div>
        <div class="md-footer-meta__inner md-grid md-grid-disclaimer">
    		<div class="md-footer-disclaimer md-footer-copyright">
    			This site uses cookies, see our <a href="https://nano.org/privacy#cookies" target="_blank">Cookie policy</a> for details. The Nano Foundation is not responsible for the content of external sites and services. 
    			<a href="https://nano.org/terms#linked-websites" target="_blank">Learn more</a>
    		</div>
    	</div>
    </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
      
        <script src="../../javascript/mermaid-loose-security.js"></script>
      
    
  </body>
</html>