



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://docs.nano.org/running-a-node/troubleshooting/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Troubleshooting - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Noto Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extras.css">
    
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://nano.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nano.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    
  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@nano">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />

  <!-- Open Graph data -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="" />
  <meta property="og:url" content="https://docs.nano.org/running-a-node/troubleshooting/" />
  <meta property="og:image" content="https://docs.nano.org/images/nano-docs-open-graph.png" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Nano Docs" />


  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="#4a90e2" data-md-color-accent="#131121">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#troubleshooting" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.nano.org/" title="Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/nano.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Documentation
            </span>
            <span class="md-header-nav__topic">
              Troubleshooting
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.nano.org/" title="Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/nano.svg" width="48" height="48">
      
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/nanocurrency/nano-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nanocurrency/nano-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      What is Nano?
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        What is Nano?
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../what-is-nano/exploring-more/" title="Exploring More" class="md-nav__link">
      Exploring More
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Running a Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Running a Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../node-setup/" title="Node Setup" class="md-nav__link">
      Node Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker-management/" title="Docker Management" class="md-nav__link">
      Docker Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ledger-management/" title="Ledger Management" class="md-nav__link">
      Ledger Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../voting-as-a-representative/" title="Voting as a Representative" class="md-nav__link">
      Voting as a Representative
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../beta-network/" title="Beta Network" class="md-nav__link">
      Beta Network
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Troubleshooting
      </label>
    
    <a href="./" title="Troubleshooting" class="md-nav__link md-nav__link--active">
      Troubleshooting
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#log-files" title="Log Files" class="md-nav__link">
    Log Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-do-if-the-node-crashes-linux" title="What to do if the node crashes (Linux)" class="md-nav__link">
    What to do if the node crashes (Linux)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v21-nodes" title="v21+ nodes" class="md-nav__link">
    v21+ nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v20-nodes" title="v20 nodes" class="md-nav__link">
    v20 nodes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistics-from-rpc" title="Statistics from RPC" class="md-nav__link">
    Statistics from RPC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-type-detail-and-direction-values" title="Available type, detail and direction values" class="md-nav__link">
    Available type, detail and direction values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-command" title="RPC Command" class="md-nav__link">
    RPC Command
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counters-query" title="Counters query:" class="md-nav__link">
    Counters query:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counters-response" title="Counters response" class="md-nav__link">
    Counters response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samples-query" title="Samples query:" class="md-nav__link">
    Samples query:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samples-response" title="Samples response" class="md-nav__link">
    Samples response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-file-example" title="Log file example" class="md-nav__link">
    Log file example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-upnp" title="Troubleshooting UPnP" class="md-nav__link">
    Troubleshooting UPnP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensure-upnp-is-enabled" title="Ensure UPnP is enabled" class="md-nav__link">
    Ensure UPnP is enabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-upnp-logging" title="Enable UPnP logging" class="md-nav__link">
    Enable UPnP logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-upnp-messages" title="Error UPnP Messages" class="md-nav__link">
    Error UPnP Messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normal-upnp-messages" title="Normal UPnP Messages" class="md-nav__link">
    Normal UPnP Messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../beyond-the-node/" title="Beyond the Node" class="md-nav__link">
      Beyond the Node
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Integration Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Integration Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/the-basics/" title="The Basics" class="md-nav__link">
      The Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/key-management/" title="Key Management" class="md-nav__link">
      Key Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/block-confirmation-tracking/" title="Block Confirmation Tracking" class="md-nav__link">
      Block Confirmation Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/work-generation/" title="Work Generation" class="md-nav__link">
      Work Generation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/build-options/" title="Build Options" class="md-nav__link">
      Build Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/websockets/" title="WebSockets" class="md-nav__link">
      WebSockets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/ipc-integration/" title="IPC Integration" class="md-nav__link">
      IPC Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration-guides/advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Commands
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/rpc-protocol/" title="RPC Protocol" class="md-nav__link">
      RPC Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/command-line-interface/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Protocol Design
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Protocol Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/distribution-and-units/" title="Distribution and Units" class="md-nav__link">
      Distribution and Units
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/network-attacks/" title="Network Attacks" class="md-nav__link">
      Network Attacks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-design/signing-hashing-and-key-derivation/" title="Signing, Hashing and Key Derivation" class="md-nav__link">
      Signing, Hashing and Key Derivation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../whitepaper/english/" title="Original whitepaper" class="md-nav__link">
      Original whitepaper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/node-releases/" title="Node Releases" class="md-nav__link">
      Node Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/current-release-notes/" title="Current Release Notes" class="md-nav__link">
      Current Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/previous-release-notes/" title="Previous Release Notes" class="md-nav__link">
      Previous Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/network-upgrades/" title="Network Upgrades" class="md-nav__link">
      Network Upgrades
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/upcoming-features/" title="Upcoming Features" class="md-nav__link">
      Upcoming Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#log-files" title="Log Files" class="md-nav__link">
    Log Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-do-if-the-node-crashes-linux" title="What to do if the node crashes (Linux)" class="md-nav__link">
    What to do if the node crashes (Linux)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v21-nodes" title="v21+ nodes" class="md-nav__link">
    v21+ nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v20-nodes" title="v20 nodes" class="md-nav__link">
    v20 nodes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistics-from-rpc" title="Statistics from RPC" class="md-nav__link">
    Statistics from RPC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-type-detail-and-direction-values" title="Available type, detail and direction values" class="md-nav__link">
    Available type, detail and direction values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-command" title="RPC Command" class="md-nav__link">
    RPC Command
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counters-query" title="Counters query:" class="md-nav__link">
    Counters query:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#counters-response" title="Counters response" class="md-nav__link">
    Counters response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samples-query" title="Samples query:" class="md-nav__link">
    Samples query:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samples-response" title="Samples response" class="md-nav__link">
    Samples response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-file-example" title="Log file example" class="md-nav__link">
    Log file example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-upnp" title="Troubleshooting UPnP" class="md-nav__link">
    Troubleshooting UPnP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensure-upnp-is-enabled" title="Ensure UPnP is enabled" class="md-nav__link">
    Ensure UPnP is enabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-upnp-logging" title="Enable UPnP logging" class="md-nav__link">
    Enable UPnP logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-upnp-messages" title="Error UPnP Messages" class="md-nav__link">
    Error UPnP Messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normal-upnp-messages" title="Normal UPnP Messages" class="md-nav__link">
    Normal UPnP Messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nanocurrency/nano-docs/edit/master/docs/running-a-node/troubleshooting.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<h2 id="log-files">Log Files<a class="headerlink" href="#log-files" title="Permanent link">&para;</a></h2>
<p>The default location of standard node log files for various systems:</p>
<table>
<thead>
<tr>
<th><strong>OS</strong></th>
<th><strong>Location</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Windows</td>
<td><code class="codehilite">C:<span class="se">\U</span>sers<span class="se">\&lt;</span>user&gt;<span class="se">\A</span>ppData<span class="se">\L</span>ocal<span class="se">\N</span>ano<span class="se">\l</span>og</code> -or- <code class="codehilite">%LOCALAPPDATA%<span class="se">\N</span>ano<span class="se">\l</span>og</code></td>
</tr>
<tr>
<td>macOS</td>
<td><code class="codehilite">/Users/&lt;user&gt;/Library/Nano/log</code></td>
</tr>
<tr>
<td>Linux</td>
<td><code class="codehilite">/home/&lt;user&gt;/Nano/log</code></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p>To get a static file name for the currently active log file, see the <a href="../configuration/#loggingstable_log_filename">stable_log_filename configuration option</a></p>
</div>
<hr />
<h2 id="what-to-do-if-the-node-crashes-linux">What to do if the node crashes (Linux)<a class="headerlink" href="#what-to-do-if-the-node-crashes-linux" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Do not restart the node</p>
<p>If your node crashes, please follow this guide before attempting to run it again.</p>
</div>
<p>If the node crashes, the most commonly seen message is "Segmentation fault (core dumped)". When using docker, this message will only show up in the docker logs. In any case, this is often not enough to go on in terms of figuring out what went wrong. The next steps detail what you should do to provide us with as much information as possible about the problem.</p>
<p>When you are done gathering all information, please <a href="https://github.com/nanocurrency/nano-node/issues/new">create a new Github issue</a>, or <a href="https://chat.nano.org">reach us on Discord</a> in the <em>#support</em> channel, detailing your issue as much as possible.</p>
<div class="admonition note">
<p class="admonition-title">Getting the latest node log</p>
<p>The following command will order the log files such that the first one in the output is the most recent. If you restarted the node since the crash, then the relevant log file is not the latest one. Please be careful to give us the relevant log file.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Nano -&gt; NanoBeta if debugging a beta node</span>
ls -dlt ~/Nano/log/* <span class="p">|</span> head
</pre></div>

<p>Please provide the complete log file.</p>
</div>
<p>Please follow the steps below for the corresponding node version you are using. Should there be an error obtaining the information in a newer version, the older version steps should then be attempted.</p>
<h4 id="v21-nodes"><em>v21</em>+ nodes<a class="headerlink" href="#v21-nodes" title="Permanent link">&para;</a></h4>
<div class="admonition example">
<p class="admonition-title">Step 1: Make sure addr2line is installed</p>
<p>It is likely installed already, consult documentation for your linux distribution if it is not mentioned below:<br />
<strong>Ubuntu/Debian</strong>
<code>apt-get install binutils</code></p>
<p><strong>Fedora 22+</strong><br />
<code>dnf install binutils</code></p>
</div>
<div class="admonition example">
<p class="admonition-title">(Optional) Step 2: Save crash dump files</p>
<p>The next step will clean up the dump files generated during the crash, if you wish to keep these then save <code>nano_node_backtrace.dump</code>, and all <code>nano_node_crash_load_address_dump_*.txt</code> files.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Step 3: Generate crash report</p>
<p>Run:
<code>./nano_node --debug_generate_crash_report</code></p>
<p>This will generate a text file <code>nano_node_crash_report.txt</code> please send us the contents of this file.</p>
</div>
<h4 id="v20-nodes"><em>v20</em> nodes<a class="headerlink" href="#v20-nodes" title="Permanent link">&para;</a></h4>
<div class="admonition example">
<p class="admonition-title">Step 1: Getting dmesg information</p>
<p>Depending on the error, it is possible you do not find any useful information in this step, in which case please move on to Step 3.
Run the following command and look for <code>nano_node</code> at the end. If you see a relevant message, gather all messages with a similar timestamp - the number within brackets on the left.</p>
<div class="codehilite"><pre><span></span>dmesg
</pre></div>

<p>Example output:
<div class="codehilite"><pre><span></span>[    6.336071] IPv6: ADDRCONF(NETDEV_CHANGE): wlp2s0: link becomes ready
[    6.375123] wlp2s0: Limiting TX power to 23 (23 - 0) dBm as advertised by **:**:**:**:**:**
[ 6141.711993] show_signal_msg: 23 callbacks suppressed
[ 6141.711995] I/O[14487]: segfault at 1 ip 000055c69d3a1634 sp 00007f6e9332df10 error 6 in nano_node[55c69d25f000+70b000]
[ 6141.711999] Code: 24 70 48 83 c5 10 48 89 c3 48 39 ef 74 b6 e8 e3 b8 39 00 eb af 90 41 57 41 56 41 55 41 54 49 89 fc 55 53 48 81 ec a8 00 00 00 &lt;c6&gt; 04 25 01 00 00 00 31 64 48 8b 04 25 28 00 00 00 48 89 84 24 98
</pre></div></p>
<p>From this output, only the last 3 lines are relevant.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Step 2: Getting syslog information</p>
<p>More information might be available in syslog. Run the following command and look for the time the crash ocurred.</p>
<div class="codehilite"><pre><span></span>cat /var/log/syslog
</pre></div>

<p>Example output:
<div class="codehilite"><pre><span></span>Aug 15 11:56:07 ubuntu-server kernel: [6141.711993] show_signal_msg: 23 callbacks suppressed
Aug 15 11:56:07 ubuntu-server kernel: [6141.711995] I/O[25975]: segfault at 1 ip 000055b2960e2d24 sp 00007fcff50f6fc0 error 6 in nano_node[55b295f9b000+6d8000]
Aug 15 11:56:07 ubuntu-server kernel: [6141.711999] Code: 24 70 48 83 c5 10 48 89 c3 48 39 ef 74 b6 e8 e3 b8 39 00 eb af 90 41 57 41 56 41 55 41 54 49 89 fc 55 53 48 81 ec a8 00 00 00 &lt;c6&gt; 04 25 01 00 00 00 31 64 48 8b 04 25 28 00 00 00 48 89 84 24 98
</pre></div></p>
<p>Include the relevant lines from the output. In this example, the log is similar to the one from Step 2.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Step 3: Getting a backtrace dump</p>
<p>This command will produce some basic information about the error.</p>
<p><strong>Not using docker</strong>:
<div class="codehilite"><pre><span></span>./nano_node --debug_output_last_backtrace_dump &gt; nano_node_backtrace_output.txt
</pre></div></p>
<p><strong>Using docker</strong>:
<div class="codehilite"><pre><span></span>mkdir -p /tmp/nano_node_crash <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="nv">$_</span>
docker <span class="nb">exec</span> <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span> nano_node --debug_output_last_backtrace_dump &gt; nano_node_backtrace_output.txt
docker <span class="nb">exec</span> <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span> sh -c <span class="s1">&#39;mkdir -p crash_files; mv nano_node_crash*.txt crash_files/&#39;</span>
docker cp <span class="si">${</span><span class="nv">NANO_NAME</span><span class="si">}</span>:/crash_files/ . <span class="o">&amp;&amp;</span> mv crash_files/* .
</pre></div></p>
</div>
<div class="admonition example">
<p class="admonition-title">Step 4: Producing the archive file</p>
<p>See the output of this command for the name of the file you should include in your report.
<div class="codehilite"><pre><span></span><span class="nv">FILE</span><span class="o">=</span><span class="s2">&quot;nano_node_crash_</span><span class="k">$(</span>date +<span class="s2">&quot;%Y-%m-%d_%H-%M-%S.tar.gz&quot;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> tar czf <span class="nv">$FILE</span> --exclude<span class="o">=</span>*.tar.gz nano_node_* <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&quot;Created archive </span><span class="nv">$FILE</span><span class="s2">&quot;</span>
</pre></div></p>
</div>
<hr />
<h2 id="statistics-from-rpc">Statistics from RPC<a class="headerlink" href="#statistics-from-rpc" title="Permanent link">&para;</a></h2>
<p>The "stats" RPC command can be used by external processes to query statistics, such as traffic counters. This is useful for diagnostics, monitoring and display in admin consoles. </p>
<p>Statistics are optionally logged to separate text files.</p>
<p>For implementations details, please see <a href="https://github.com/cryptocode/raiblocks/wiki/Statistics-API">Statistics API</a></p>
<div class="admonition warning">
<p class="admonition-title">Duplicate observer stats</p>
<p>Under certain conditions, confirmations seen through the observer type stat can be duplicates. In order to get accurate data, block hashes must be tracked and validated against previously seen hashes.</p>
</div>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>All configuration nodes and values are optional, with the default values shown in comments below:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;node&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="err">...</span>
    <span class="nt">&quot;statistics&quot;</span><span class="p">:</span> <span class="p">{</span>

        <span class="err">//</span> <span class="err">Sampling</span> <span class="err">configuration</span> <span class="err">(optional)</span>
        <span class="err">//</span> <span class="err">Only</span> <span class="err">activate</span> <span class="err">if</span> <span class="err">you</span> <span class="err">need</span> <span class="err">sampling</span> <span class="err">information,</span> <span class="err">as</span> <span class="err">there&#39;s</span> <span class="err">some</span> <span class="err">overhead</span> <span class="err">associated</span> <span class="err">with</span> <span class="err">this</span> <span class="err">feature.</span>
        <span class="nt">&quot;sampling&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>                <span class="err">//</span> <span class="err">If</span> <span class="err">sampling</span> <span class="err">is</span> <span class="err">enabled.</span> <span class="err">Default</span> <span class="err">false.</span>
            <span class="nt">&quot;capacity&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span>                  <span class="err">//</span> <span class="err">How</span> <span class="err">many</span> <span class="err">samples</span> <span class="err">to</span> <span class="err">keep.</span> <span class="err">Must</span> <span class="err">be</span> <span class="err">set</span> <span class="err">if</span> <span class="err">sampling</span> <span class="err">is</span> <span class="err">enabled.</span>
            <span class="nt">&quot;interval&quot;</span><span class="p">:</span> <span class="s2">&quot;1000&quot;</span>                <span class="err">//</span> <span class="err">Sample</span> <span class="err">interval</span> <span class="err">in</span> <span class="err">milliseconds.</span> <span class="err">Must</span> <span class="err">be</span> <span class="err">set</span> <span class="err">if</span> <span class="err">sampling</span> <span class="err">is</span> <span class="err">enabled.</span>
        <span class="p">},</span>

        <span class="err">//</span> <span class="err">File</span> <span class="err">logging</span> <span class="err">(optional)</span>
        <span class="nt">&quot;log&quot;</span><span class="p">:</span> <span class="p">{</span>                              
            <span class="nt">&quot;interval_counters&quot;</span><span class="p">:</span> <span class="s2">&quot;5000&quot;</span><span class="p">,</span>      <span class="err">//</span> <span class="err">How</span> <span class="err">often</span> <span class="err">to</span> <span class="err">write</span> <span class="err">counters</span> <span class="err">to</span> <span class="err">file</span> <span class="err">in</span> <span class="err">milliseconds.</span> <span class="err">Default</span> <span class="err">0</span> <span class="err">(off)</span>
            <span class="nt">&quot;interval_samples&quot;</span><span class="p">:</span> <span class="s2">&quot;5000&quot;</span><span class="p">,</span>       <span class="err">//</span> <span class="err">How</span> <span class="err">often</span> <span class="err">to</span> <span class="err">write</span> <span class="err">samples</span> <span class="err">to</span> <span class="err">file,</span> <span class="err">milliseconds.</span> <span class="err">Default</span> <span class="err">0</span> <span class="err">(off)</span>
            <span class="nt">&quot;rotation_count&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span>            <span class="err">//</span> <span class="err">Rotate</span> <span class="err">file</span> <span class="err">after</span> <span class="err">writing</span> <span class="err">statistics</span> <span class="err">this</span> <span class="err">many</span> <span class="err">times.</span> <span class="err">Default</span> <span class="err">100.</span>
            <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>                <span class="err">//</span> <span class="err">Write</span> <span class="err">header</span> <span class="err">containing</span> <span class="err">log</span>
            <span class="nt">&quot;filename_counters&quot;</span><span class="p">:</span> <span class="s2">&quot;counters.stat&quot;</span><span class="p">,</span>
            <span class="nt">&quot;filename_samples&quot;</span><span class="p">:</span> <span class="s2">&quot;samples.stat&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h4 id="available-type-detail-and-direction-values">Available type, detail and direction values<a class="headerlink" href="#available-type-detail-and-direction-values" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>type:
    traffic_udp
    traffic_tcp
    error
    message
    block
    ledger
    rollback
    bootstrap
    vote
    election
    http_callback
    peering
    ipc
    tcp
    udp
    confirmation_height
    confirmation_observer
    drop
    aggregator
    requests
    filter
    telemetry

details:
    all

    // error specific
    bad_sender
    insufficient_work
    http_callback
    unreachable_host

    // confirmation_observer specific
    active_quorum
    active_conf_height
    inactive_conf_height

    // ledger block bootstrap
    send
    receive
    open
    change
    state_block
    epoch_block
    fork
    old
    gap_previous
    gap_source

    // message specific
    keepalive
    publish
    republish_vote
    confirm_req
    confirm_ack
    node_id_handshake
    telemetry_req
    telemetry_ack

    // bootstrap callback
    initiate
    initiate_lazy
    initiate_wallet_lazy

    // bootstrap specific
    bulk_pull
    bulk_pull_account
    bulk_pull_deserialize_receive_block
    bulk_pull_error_starting_request
    bulk_pull_failed_account
    bulk_pull_receive_block_failure
    bulk_pull_request_failure
    bulk_push
    frontier_req
    frontier_confirmation_failed
    frontier_confirmation_successful
    error_socket_close

    // vote specific
    vote_valid
    vote_replay
    vote_indeterminate
    vote_invalid
    vote_overflow

    // election specific
    vote_new
    vote_cached
    late_block
    late_block_seconds
    election_non_priority
    election_priority
    election_block_conflict
    election_difficulty_update
    election_drop
    election_restart

    // udp
    blocking
    overflow
    invalid_magic
    invalid_network
    invalid_header
    invalid_message_type
    invalid_keepalive_message
    invalid_publish_message
    invalid_confirm_req_message
    invalid_confirm_ack_message
    invalid_node_id_handshake_message
    invalid_telemetry_req_message
    invalid_telemetry_ack_message
    outdated_version

    // tcp
    tcp_accept_success
    tcp_accept_failure
    tcp_write_drop
    tcp_write_no_socket_drop
    tcp_excluded

    // ipc
    invocations

    // peering
    handshake

    // confirmation height
    blocks_confirmed
    blocks_confirmed_unbounded
    blocks_confirmed_bounded
    invalid_block

    // [request] aggregator
    aggregator_accepted
    aggregator_dropped

    // requests
    requests_cached_hashes
    requests_generated_hashes
    requests_cached_votes
    requests_generated_votes
    requests_cannot_vote
    requests_unknown

    // duplicate
    duplicate_publish

    // telemetry
    invalid_signature
    different_genesis_hash
    node_id_mismatch
    request_within_protection_cache_zone
    no_response_received
    unsolicited_telemetry_ack
    failed_send_telemetry_req

dir (direction) :
    in
    out
</pre></div>

<h3 id="rpc-command">RPC Command<a class="headerlink" href="#rpc-command" title="Permanent link">&para;</a></h3>
<h4 id="counters-query">Counters query:<a class="headerlink" href="#counters-query" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;stats&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;counters&quot;</span>
<span class="p">}</span>
</pre></div>

<h4 id="counters-response">Counters response<a class="headerlink" href="#counters-response" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;counters&quot;</span><span class="p">,</span>
    <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2018.03.29 01:46:36&quot;</span><span class="p">,</span>
    <span class="nt">&quot;entries&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:46:36&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3122792&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:46:36&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;out&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;203184&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:46:36&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;12494&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:46:36&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;out&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1380&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:46:36&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;keepalive&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;172&quot;</span>
        <span class="p">},</span>
        <span class="err">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<h4 id="samples-query">Samples query:<a class="headerlink" href="#samples-query" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;stats&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;samples&quot;</span>
<span class="p">}</span>
</pre></div>

<h4 id="samples-response">Samples response<a class="headerlink" href="#samples-response" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;samples&quot;</span><span class="p">,</span>
    <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2018.03.29 01:47:08&quot;</span><span class="p">,</span>
    <span class="nt">&quot;entries&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:04&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;59480&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:05&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;44496&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:06&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;44136&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:07&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;18784&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:08&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;22680&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:03&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;traffic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;out&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;4128&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:04&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;out&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;17&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;01:47:05&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
            <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;out&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span>
        <span class="p">},</span>
        <span class="err">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<h3 id="log-file-example">Log file example<a class="headerlink" href="#log-file-example" title="Permanent link">&para;</a></h3>
<p><code>counters.stat</code></p>
<p>As specified in the example config, sampling interval is 1 second, stats are logged every 5 seconds, and the file rotates after 5 log cycles.</p>
<div class="codehilite"><pre><span></span>counters,2018.03.29 01:45:36
01:44:56,bootstrap,all,out,1
01:45:36,bootstrap,initiate,out,2
counters,2018.03.29 01:45:41
01:45:41,traffic,all,in,456344
01:45:41,traffic,all,out,189520
01:45:41,message,all,in,1925
01:45:41,message,all,out,1289
01:45:38,message,keepalive,in,165
01:45:41,message,keepalive,out,1027
01:45:41,message,publish,in,34
01:45:38,message,confirm_req,in,164
01:45:41,message,confirm_req,out,262
01:45:41,message,confirm_ack,in,1562
01:45:36,bootstrap,all,out,2
01:45:41,bootstrap,initiate,out,3
</pre></div>

<p><code>samples.stat</code></p>
<p>As specified in the example config, logging is done every 5 seconds and the sampling capacity is 5 (how many samplings are kept)</p>
<div class="codehilite"><pre><span></span>samples,2018.03.29 01:45:36
01:45:36,bootstrap,initiate,out,2
samples,2018.03.29 01:45:41
01:45:37,traffic,all,in,322608
01:45:38,traffic,all,in,37064
01:45:39,traffic,all,in,38752
01:45:40,traffic,all,in,25632
01:45:38,traffic,all,out,185072
01:45:39,traffic,all,out,3072
01:45:41,traffic,all,out,920
01:45:37,message,all,in,1387
01:45:38,message,all,in,126
01:45:39,message,all,in,179
01:45:40,message,all,in,101
01:45:37,message,all,out,1254
01:45:38,message,all,out,10
01:45:39,message,all,out,16
01:45:41,message,all,out,6
01:45:38,message,keepalive,in,165
01:45:38,message,keepalive,out,1011
01:45:39,message,keepalive,out,12
01:45:41,message,keepalive,out,3
01:45:37,message,publish,in,19
01:45:38,message,publish,in,8
01:45:40,message,publish,in,3
01:45:41,message,publish,in,4
01:45:38,message,confirm_req,in,164
01:45:37,message,confirm_req,out,249
01:45:38,message,confirm_req,out,3
01:45:39,message,confirm_req,out,6
01:45:41,message,confirm_req,out,3
01:45:37,message,confirm_ack,in,1046
01:45:38,message,confirm_ack,in,141
01:45:39,message,confirm_ack,in,150
01:45:40,message,confirm_ack,in,100
01:45:36,bootstrap,all,out,2
01:45:36,bootstrap,initiate,out,2
01:45:41,bootstrap,initiate,out,1
</pre></div>

<hr />
<h2 id="troubleshooting-upnp">Troubleshooting UPnP<a class="headerlink" href="#troubleshooting-upnp" title="Permanent link">&para;</a></h2>
<h3 id="ensure-upnp-is-enabled">Ensure UPnP is enabled<a class="headerlink" href="#ensure-upnp-is-enabled" title="Permanent link">&para;</a></h3>
<p>UPnP will be enabled unless the external port is set in either the config
<div class="codehilite"><pre><span></span>[node]
...
# The external address of this node (NAT). If not set, the node will request this information via UPnP.
# type:string,ip
external_address = &quot;::ffff:&lt;some_public_ipv4&gt;&quot;
</pre></div>
or via cli flag
<div class="codehilite"><pre><span></span>--config node.external_address<span class="o">=</span><span class="s2">&quot;::ffff:&lt;some_public_ipv4&gt;&quot;</span>
</pre></div></p>
<h3 id="enable-upnp-logging">Enable UPnP logging<a class="headerlink" href="#enable-upnp-logging" title="Permanent link">&para;</a></h3>
<p>Appending this to your launch command will enable upnp logging.
<div class="codehilite"><pre><span></span>--config node.logging.upnp_details<span class="o">=</span><span class="nb">true</span>
</pre></div></p>
<h3 id="error-upnp-messages">Error UPnP Messages<a class="headerlink" href="#error-upnp-messages" title="Permanent link">&para;</a></h3>
<p>Check the beginning of the logs for UPNP_* messages</p>
<div class="admonition error">
<p class="admonition-title">Port Mapping Conflict</p>
<p>Check for static routes
<div class="codehilite"><pre><span></span><span class="o">[</span><span class="m">2019</span>-Oct-29 <span class="m">11</span>:06:56.641389<span class="o">]</span>: UPnP failed <span class="m">718</span>: ConflictInMappingEntry
<span class="o">[</span><span class="m">2019</span>-Oct-29 <span class="m">11</span>:06:56.644387<span class="o">]</span>: UPnP failed <span class="m">718</span>: ConflictInMappingEntry
</pre></div></p>
</div>
<h3 id="normal-upnp-messages">Normal UPnP Messages<a class="headerlink" href="#normal-upnp-messages" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p><div class="codehilite"><pre><span></span><span class="o">[</span><span class="m">2019</span>-Oct-29 <span class="m">11</span>:06:56.641389<span class="o">]</span>: UPNP_GetSpecificPortMappingEntry failed <span class="m">714</span>: NoSuchEntryInArray
<span class="o">[</span><span class="m">2019</span>-Oct-29 <span class="m">11</span>:06:56.644387<span class="o">]</span>: UPNP_GetSpecificPortMappingEntry failed <span class="m">714</span>: NoSuchEntryInArray
</pre></div>
This message is expected when starting the node and will go away after the UPnP has mappeded the port</p>
</div>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="../beta-network/"
              title="Beta Network"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Beta Network
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="../beyond-the-node/"
              title="Beyond the Node"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Beyond the Node
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-footer-copyright">
                © Nano Foundation |
                <a href="https://nano.org/terms" target="_blank">
                    Terms of Use
                </a>
                 | 
                <a href="https://nano.org/privacy">
                    Privacy Policy
                </a>
            </div>
            
            <!-- Social links -->
            
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/nanocurrency" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/nano" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://chat.nano.org" class="md-footer-social__link fa fa-comments"></a>
    
      <a href="https://reddit.com/r/nanocurrency" class="md-footer-social__link fa fa-reddit"></a>
    
      <a href="https://medium.com/nanocurrency" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://facebook.com/nanofoundation" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://linkedin.com/company/nano-foundation" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.youtube.com/nanocurrency/" class="md-footer-social__link fa fa-youtube"></a>
    
      <a href="https://www.instagram.com/nanocurrency/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

        </div>
        <div class="md-footer-meta__inner md-grid md-grid-disclaimer">
    		<div class="md-footer-disclaimer md-footer-copyright">
    			This site uses cookies, see our <a href="https://nano.org/privacy#cookies" target="_blank">Cookie policy</a> for details. The Nano Foundation is not responsible for the content of external sites and services. 
    			<a href="https://nano.org/terms#linked-websites" target="_blank">Learn more</a>
    		</div>
    	</div>
    </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
      
        <script src="../../javascript/mermaid-loose-security.js"></script>
      
    
  </body>
</html>